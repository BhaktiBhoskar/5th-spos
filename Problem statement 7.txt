Problem statement 7:

Unnamed PL/SQL code block: Use of Control structure and Exception handling is mandatory.
Suggested Problem statement: 
Consider Tables:1. Borrower (Roll_no, Name, DateofIssue, NameofBook, Status)
2. Fine(Roll_no,Date,Amt)
Accept Roll_no and NameofBook from user.
Check the number of days (from date of issue). If days are between 15 to 30 then fine amount will be Rs 5per day. If no. of days>30, per day fine will be Rs 50 per day and for days less than 30, Rs. 5 perday. After submitting the book, status will change from I to R. If condition of fine is true, then details will be stored into fine table. Also handles the exception by named exception handler or user define exception handler

Tables:

create table borrower(roll_no number, name varchar2(20), dateofissue date, nameofbook varchar2(30), status char(1));
create table fine(roll_no number, date date, amt number);

PL/SQL Block:

declare
  v_roll borrower.roll_no%type := &roll_no;
  v_book borrower.nameofbook%type := '&nameofbook';
  v_date date;
  v_days number;
  v_fine number;
begin
  select dateofissue into v_date from borrower where roll_no=v_roll and nameofbook=v_book;
  v_days := trunc(sysdate - v_date);
  
  if v_days between 15 and 30 then
     v_fine := v_days * 5;
  elsif v_days > 30 then
     v_fine := v_days * 50;
  else
     v_fine := 0;
  end if;

  update borrower set status='R' where roll_no=v_roll and nameofbook=v_book;

  if v_fine > 0 then
     insert into fine values(v_roll, sysdate, v_fine);
  end if;

  dbms_output.put_line('Book Returned. Fine='||v_fine);
exception
  when no_data_found then
     dbms_output.put_line('Invalid Roll or Book name');
end;
/

Execution in SQL*Plus:

set serveroutput on;
@filename.sql

