Problem statement 10: 

Create a Library database with the schema Books(AccNo,Title,Author,Publisher,Count). a. Create a table Library_Audit with same fields as of Books. b. Create a before trigger to insert records into Librry_Audit table if there is deletion in Books table. Create a after trigger to insert records into Librry_Audit table if there is updation in Books table.


Tables:

create table books(accno number, title varchar2(30), author varchar2(30), publisher varchar2(30), count number);
create table library_audit(accno number, title varchar2(30), author varchar2(30), publisher varchar2(30), count number);

Before Delete Trigger:

create or replace trigger before_del_books
before delete on books
for each row
begin
  insert into library_audit values(:old.accno,:old.title,:old.author,:old.publisher,:old.count);
end;
/

After Update Trigger:

create or replace trigger after_upd_books
after update on books
for each row
begin
  insert into library_audit values(:new.accno,:new.title,:new.author,:new.publisher,:new.count);
end;
/

Execution in SQL*Plus:

set serveroutput on;
@filename.sql
